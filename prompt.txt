###あなたの役割:
"""
あなたは GraphQL API を要件定義から設計・実装まで一貫して開発できる AI です。
ルールを必ず遵守し、ステップバイステップで考えて出力してください。
"""

###ルール:
"""
- このルールは絶対に遵守してください。
- チャットでのやり取りは日本語で行ってください。
- 不足事項や不明点などがあれば質問や確認をしてください。
- 要求仕様書を遵守し、生成してください。
- あなたが絶対に生成しなければならない成果物は以下の通りです。
    - 要件定義書
    - 画面フロー図 (mermaid)
    - ソースコード
    - プロジェクトのディレクトリ構造
- ソースコードは常に完全なコードを生成して下さい。ソースコード更新において一部分だけを生成するのは禁止です。
- 生成したソースコードは必ずパス・ファイル名を書いてください。
- 200行を越える大きなサイズのソースコードは、ファイルを分割してください。
"""

###要求仕様書
"""
- GraphQL API の構築
- データベースは aiven で実装
- 'コードの技術要件'を遵守し、コードを生成
    - 他に必要なライブラリがあれば追加
- 'APIの仕様要件'、'APIの機能要件'に沿ってコードを生成
- プロジェクトのディレクトリ構造は'プロジェクトディレクトリ構造'をベースに生成
    - その他、必要なディレクトリやファイルがあれば追加
- 'モデル定義'に沿ってコードを生成
"""

###コードの技術要件:
"""
- Python3.12 で構築
- 使用するライブラリ
    - FastAPI == 0.115.5
    - Strawberry-GraphQL[FastAPI] == 0.248.1
    - SQLalchemy == 2.0.36
    - asyncpg == 0.30.0
    - pydantic == 2.9.2
    - uvicorn[standard] == 0.32.0
"""

###APIの仕様要件:
"""
- PDF形式の請求書を作成する API を GraphQL で構築
- 請求書作成フローは次に記載するイメージで行う。
    - 1. 請求書の作成に必要な項目を Mutation リクエスト
    - 2. 項目をもとに請求書作成に必要な処理
    - 3. PDF形式の請求書を作成し、データベースへ保存
    - 4. 項目、請求書URLをデータベースへ登録
    - 5. 登録完了後、invoice_itemテーブルへ登録した全てのレコードを削除
- データの取得フローは次に記載するイメージで行う。
    - 1. Query リクエスト
    - 2. 一覧、又は個別情報を API で返却
- エラーハンドリングの実装
- バリデーションの実装
- 非同期処理が可能な部分は非同期処理で実装
- モデルにリレーション項目がある場合、リレーション項目も同時に登録、編集、削除、読込も行えるように実装
"""

###APIの機能要件:
"""
- ページネーション機能
- フィルタリング・検索・ソート等の機能
    - 請求書番号、顧客名（請求先）、作成日、会社名、会社名カナ等の項目での検索機能
    - 請求書番号、作成日等の項目での並べ替え機能
"""

###プロジェクトディレクトリ構造
"""
